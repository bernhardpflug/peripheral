<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_16) on Wed Apr 29 10:10:49 CEST 2009 -->
<TITLE>
net.java.jddac.jmci.units (JDDAC API)
</TITLE>

<META NAME="keywords" CONTENT="net.java.jddac.jmci.units package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="net.java.jddac.jmci.units (JDDAC API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../net/java/jddac/jmci/lib/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../net/java/jddac/jmdi/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/java/jddac/jmci/units/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package net.java.jddac.jmci.units
</H2>
Provides support for a higher-level package to
perform arithmetic on machine-readable representations of physical
quantities.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/AddConverter.html" title="class in net.java.jddac.jmci.units">AddConverter</A></B></TD>
<TD>
 This class represents an add converter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/Converter.html" title="class in net.java.jddac.jmci.units">Converter</A></B></TD>
<TD>
 This class represents a converter of numeric values.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/Dimension.html" title="class in net.java.jddac.jmci.units">Dimension</A></B></TD>
<TD>The <i>type </i> of a physical quantity, such as length.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/ExpConverter.html" title="class in net.java.jddac.jmci.units">ExpConverter</A></B></TD>
<TD>An exponential converter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/Formatter.html" title="class in net.java.jddac.jmci.units">Formatter</A></B></TD>
<TD>This probably belongs as a method in the Measurement class, but it's here for
 now.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/LogConverter.html" title="class in net.java.jddac.jmci.units">LogConverter</A></B></TD>
<TD>A logarithmic converter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/MultiplyConverter.html" title="class in net.java.jddac.jmci.units">MultiplyConverter</A></B></TD>
<TD>
 This class represents a multiply converter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/ScaleType.html" title="class in net.java.jddac.jmci.units">ScaleType</A></B></TD>
<TD>The <code>ScaleType</code> of a unit describes how the unit maps from
 physical quantities to human-readable (and computer-storable)
 representations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/Unit.html" title="class in net.java.jddac.jmci.units">Unit</A></B></TD>
<TD>A physical unit, such as horsepower.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/UnitFormatter.html" title="class in net.java.jddac.jmci.units">UnitFormatter</A></B></TD>
<TD>This class provides the interface for formatting and parsing units.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Exception Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../net/java/jddac/jmci/units/ConversionException.html" title="class in net.java.jddac.jmci.units">ConversionException</A></B></TD>
<TD>Signals that a problem of some sort has occurred either when creating a
 converter between two units or during the conversion itself.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package net.java.jddac.jmci.units Description
</H2>

<P>
Provides support for a higher-level package to
perform arithmetic on machine-readable representations of physical
quantities.  Core of the Java Measurement Calculus Interface (JMCI).

<div class=Section1>
<h1>Introduction</h1>

<h2>Purpose</h2>

<p class=Paragraph>This units package is intended to support a higher-level
package which does arithmetic on machine-readable representations of physical
quantities (hereafter, “quantities”). Thus, “feet” is not useful by itself, and
“6” is not useful by itself, but “6 feet” represents a quantity we can
understand. The intended use is for a Quantity package to represent {number,
unit} pairs, and for this package to provide information and methods which can
be used to guide Quantity in its operations.</p>

<p class=Paragraph>For example, if two lengths are to be added, and one is
represented in feet and the other in meters, it is the job of Quantity (not
Unit) to know that one needs to be converted to the other’s unit before adding.
But it is the job of Unit (not Quantity) to provide the converter. If two power
levels are to be added, and one is represented in dBm and the other in dBw, it
is not sufficient to convert one to the other’s unit; then need to both be converted
to watts (or some other linear unit) before being added. It is the job of
Quantity to know that. It is the job of Unit to indicate that dBm is a
logarithmic unit, to indicate what an appropriate linear unit is, and to
provide the converter. </p>

<h2>Background</h2>

<p class=MsoNormal>Most of this package adheres to the standards set by the
International System of Units (SI), see http://www.bipm.fr/, and
http://physics.nist.gov/cuu/Units/. We follow its broad guidance — that the
scope is a system of base units plus their products and quotients; that the
electrical quantity is current rather than charge, that the unit of mass is the
kilogram rather than the gram, etc. We take a slightly different tack on the
treatment of angles, dimensionless ratios and offset units. Of course we admit
non-SI units. In the matter of how things are spelled, we basically let users
define their own names for units; then we are liberal in what we accept, strict
in what we produce.</p>

<h1>Structure</h1>

<p class=Paragraph>The main user-visible classes in this package are:</p>

<p class=MsoListBullet><![if !supportLists]><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>Dimension</b>. These are things like length, speed,
energy. These have no numeric value (one dimension isn’t larger or smaller than
another), but they can be multiplied and divide together. So length/time =
speed, for example. New dimensions can be created at run time, so there is no
need to anticipate all the kinds of quantity that one might want (e.g. partial
derivative of molarity with temperature). A dimension has one or more units
associated with it (e.g. temperature has Kelvin, Celsius, Fahrenheit, …).</p>

<p class=MsoListBullet><![if !supportLists]><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>Unit</b>. These are things like mile, meter/second,
calorie. Each is associated with exactly one dimension. They know whether they
are linear/logarithmic/etc., whether they are SI or not, etc. They can point to
converters to their associated SI unit, and to other units. Units know whether
they are conversion-compatible with one another. They can be multiplied and
divided, and the result is a new unit. For example, joule/second = watt. New
units are created at run time, so there is no need to anticipate all units that
one might want (in fact, Unit.initialize() only creates nine units — one for each
base dimension).</p>

<p class=MsoListBullet><![if !supportLists]><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>ScaleType</b>. The scale type of a unit
characterizes the way it maps physical quantities into numbers, e.g. linear,
linear-with-offset, logarithmic, etc. This is not mentioned in SI, but is
essential in communicating with a Quantity package. The initial work on scale
types was Stevens, S. S. “On the theory of scales of measurement,” Science,
103, pp677-680, 1946. A more modern, readable and relevant treatment appears in
Fenton and Pfleeger, “Software Metrics -- A Rigorous and Practical Approach,”
PWS Publishing, 1997. </p>

<p class=MsoListBullet><![if !supportLists]><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>Converter</b>. These convert the numeric part of
quantities from one unit to another. To get from watts to milliwatts, for
example, one creates x = new<span style="mso-spacerun: yes">  </span>MultiplyConverter(.001),
and uses a = x.convert(b). Converters do not have names. Note that numeric
values are converted, not units — the notion of ‘converting a unit’ is meaningless.
The phrase “convert feet to meters” is short for “convert a quantity expressed
in feet to an equivalent quantity expressed in meters.” </p>

<p class=MsoListBullet><![if !supportLists]><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>Formatter</b>. This is a subclass of
java.text.Format. It will parse a string into the associated unit (if
possible), and will produce a human-readable representation of a unit on an
output device. Formatter should be subclassed for the type of stream the device
supports, e.g. html, ascii, ….</p>

<h1>Use</h1>

<p class=Paragraph>The package must be started by calling Unit.initialize()
exactly once. This creates units METER, KILOGRAM, SECOND, AMPERE, KELVIN, MOLE,
CANDELA, RADIAN and STERADIAN.</p>

<p class=Paragraph>Users create new units out of these by multiplying and
dividing them with each other, by raising them to rational powers,<a
style='mso-footnote-id:ftn1' href="#_ftn1" name="_ftnref1" title=""><span
class=MsoFootnoteReference><span style='mso-special-character:footnote'><![if !supportFootnotes]>[1]<![endif]></span></span></a>
and by applying converters to them. This can be done to any depth. It is
desirable to give a unit an explicit name when creating it. We actually ask for
the singular name, plural name and abbreviation. This allows a formatter to
produce “meter” for quantities with value 1, “meters” for quantities with other
values, and “m” in circumstances where the short form is preferred. If the name
is omitted, the system constructs one. In simple cases (e.g. “meters/second”)
this works fine. Complex units will get messy default units, though, so
explicit names are helpful. A Formatter can usually create a sensible name for
a complex unit. </p>

<p class=Paragraph>Once a unit is created, converters for other units can be
found by u.getConverterTo(v). A converter to its associated SI unit (as for the
dBm example above) by u.getConverterToSi(), and its associated SI unit is
u.getSiUnit(). Conversion in the other direction is done by the inverse
converter, which is created automatically when a converter is created. The
inverse converter for c is found by c.inverse(). Unit and converter creation is
relatively slow, but number conversion is fast. The intent is to create these
things once and use them repeatedly.</p>

<p class=Paragraph>Converter is an abstract class. We provide a
MultiplyConverter and an AddConverter. You must create any others yourself.
This may also require extending Formatter (e.g. so seconds-since-1970 can be
converted to “09:25:13 June 6, 2003”).</p>

<p class=Paragraph>When doing arithmetic on quantities, the isCompatibleWith()
method tells whether it makes sense to try to do addition, subtraction or
comparison between two quantities (it returns <i>true</i> for Celsius and
Kelvin, but <i>false</i> for Celsius and candela). If the operations are legal,
the scale types of the two units tell whether they need to be converted to the
associated SI unit before operating. For other operations, e.g. sin and log,
the isDimensionless() method tells whether these are meaningful.</p>

<h1>Future Work</h1>

<h3>Units created automatically as needed</h3>

<p class=Paragraph>We would like to support the idea in US Patent 6,381,621,
which allows quantities to be expressed in any applicable unit, whether or not
the user has taken the trouble to create it (or has even heard of it). Thus, if
“lb” and “in” are known and we want to display a pressure, the menu of choices
would include “lb/in<sup>2</sup>.”</p>

<h3>Dimensionless ratios</h3>

<p class=Paragraph>The treatment of dimensionless ratios is weak. The SI
asserts that clock speed, strain, relative humidity, the slope of a hillside,
Young’s modulus and voltage gain are all the same thing, and should all use the
unit “1.” We have laid the foundation for distinguishing these from one
another, while treating them as equivalent when desired. But the corner cases
are subtle (does distance * time/time yield a new quantity (speed*time), or is
it the same as multiplying distance*1?). There’s also the “none of the above”
dimension: this isn’t a ratio of dimensions, but instead describes quantities
which the SI doesn’t recognize, such as population, counts, bytes, frogs/pond,
etc. This becomes especially useful in combination with subclassing, described
below. Since this hasn’t all been thought through yet, we haven’t implemented
it. </p>

<h3>Specialized dimensions</h3>

<p class=Paragraph>We want to allow the Dimension type to be subclassed. In
many applications all lengths are the same kind of thing, but not in others. In
a plumbing application it would help to distinguish the length of a pipe from
its diameter: when we fasten several together, for example the length increases
but the diameter does not. Going even further, when we compare the diameter of
a pipe and a fitting, we actually want to keep the inside and outside diameters
separate. There is no reason not to permit this (though we obviously don’t want
to require it, nor to anticipate all subclasses in advance). The difficult part
lies in the association of units with these specialized dimensions. By default,
all units, including units not yet defined, should associate with all
specializations (so that angles clockwise and angles counterclockwise can both
be measured in degrees). But we need a mechanism to associate a unit with only
one dimension (fathoms with distance measured downward from sea level) and
possibly to restrict a dimension to only one unit (can’t think of any examples
of this).</p>

<h3>New dimensions</h3>

<p class=Paragraph>Everything not in the SI, such as buttons/sweater, can be
described by specializing the “none of the above” dimension. Sometimes, though,
users would rather add a dimension of their own, at the same level as length,
mass and time. This brings some simplifications, but raises huge
interoperability questions. We haven’t figured this one out at all.</p>

<p class=Paragraph><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

</div>

<div style='mso-element:footnote-list'><![if !supportFootnotes]><br clear=all>

<hr align=left size=1 width="33%">

<![endif]>

<div style='mso-element:footnote' id=ftn1>

<p class=MsoFootnoteText><a style='mso-footnote-id:ftn1' href="#_ftnref1"
name="_ftn1" title=""><span class=MsoFootnoteReference><span style='vertical-align:
baseline;vertical-align:baseline'><span style='mso-special-character:footnote'><![if !supportFootnotes]>[1]<![endif]></span></span></span></a>.
Fractional powers are very rare, but noise bandwidth is expressed in
&lt;whatever&gt; / Hz<sup>1/2</sup>.</p>

</div>

</div>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../net/java/jddac/jmci/lib/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../net/java/jddac/jmdi/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/java/jddac/jmci/units/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
