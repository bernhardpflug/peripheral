<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./transducer_files/filelist.xml">
<link rel=Edit-Time-Data href="./transducer_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>JDDAC Tutorial – Adding a Transducer</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>75</w:Zoom>
  <w:ActiveWritingStyle Lang="EN-US" VendorID="64" DLLVersion="131077"
   NLCheck="1">1</w:ActiveWritingStyle>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Courier;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-alt:"Courier New";
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
h4
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
h6
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:6;
	font-size:11.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-weight:bold;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:7;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:8;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-style:italic;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{margin-right:0in;
	mso-margin-top-alt:auto;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:1020474441;
	mso-list-type:hybrid;
	mso-list-template-ids:1031942224 67698695 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
@list l1
	{mso-list-id:1113400984;
	mso-list-type:hybrid;
	mso-list-template-ids:-1193759784 67698695 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F071;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:8.0pt;
	font-family:Wingdings;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
<meta name=Version content=8.0.4308>
<meta name=Date content="7/8/97">
<meta name=Template content="C:\Program Files\Microsoft Office\Office\HTML.DOT">
</head>

<body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<table border=0 cellspacing=0 cellpadding=0 width="100%" style='width:100.0%;
 mso-cellspacing:0in;mso-padding-alt:5.25pt 5.25pt 5.25pt 5.25pt'>
 <tr style='height:19.5pt'>
  <td width="33%" valign=top style='width:33.0%;padding:5.25pt 5.25pt 5.25pt 5.25pt;
  height:19.5pt'>
  <p><b><span style='font-size:13.5pt;mso-bidi-font-family:Arial'>March 31,
  2005</span></b></p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:5.25pt 5.25pt 5.25pt 5.25pt;
  height:19.5pt'>
  <p align=center style='text-align:center'><b><span style='font-size:13.5pt;
  mso-bidi-font-family:Arial'>JDDAC Tutorial – Adding a Trandsucer</span></b></p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:5.25pt 5.25pt 5.25pt 5.25pt;
  height:19.5pt'>
  <p align=right style='text-align:right'><b><span style='font-size:13.5pt;
  mso-bidi-font-family:Arial'>Glenn Engel</span></b></p>
  </td>
 </tr>
</table>


<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>


<p><b><i>Introduction</i></b><span style="mso-spacerun: yes">  </span></p>

<p>In this tutorial, we will show you how to create an object implementing the
TIMInterface (Transducer Interface Module) and how to get it linked into a
JDDAC dataflow application. In particular, we will create a simple object which
measures two aspects of the currently running JVM.<span style="mso-spacerun:
yes">  </span></p>

<p>In the latter half of the tutorial, we will discuss the different methods
available on the TIMInterface used to retrieve measurements from an object
implementing the TIMInterface interface.</p>

<p><b><i>Overview<o:p></o:p></i></b></p>

<p>A transducer implements the TIMInterface in order to provide a connection
between some sort of real world sensor or actuator and the JMDI Measurement
Dataflow API.<span style="mso-spacerun: yes">  </span>The JDDAC libraries
provide an abstract helper class called BasicTIM which implements much of the
nitty gritty details and simplifies the interface to just a handful of methods.</p>

<p>Each transducer is responsible for providing a set of meta data or TEDS
(Transducer Electronic Data Sheet) to the infrastructure to allow the
measurements to be self describing.<span style="mso-spacerun: yes"> 
</span>This meta data is a key element used in much of JMDI.</p>

<p>In order to simplify the notion of values we call each separate sensor or
actuator value a “channel” and treat it as a separate entity.<span
style="mso-spacerun: yes">  </span>A transducer thus will have a set of
channels and we further associate a numeric index to each channel and following
the IEEE1451.2 numbering scheme we assign the first channel as one and
increment from there.<span style="mso-spacerun: yes">  </span>Thus, a three
channel transducer will have channel numbers 1, 2, and 3.<span
style="mso-spacerun: yes">  </span>In the discussion which follows the notion
of a channel should be interchangeable with the notion of a single sensor value
or actuator value in the transducer.</p>

<p><b><i>A New Transducer<o:p></o:p></i></b></p>

<p>To build a new transducer, write a new class inherited from
net.java.jddac.jti.BasicTIM., then override a few of the methods as shown
below.<span style="mso-spacerun: yes">  </span>We won’t worry about actuators
in this and will focus instead only on sensors.<span style="mso-spacerun:
yes">  </span>We’ll let the implementation in the base class worry about most
of the details.</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>import</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>net.java.jddac.*;</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>public</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><b><span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;
background:white;mso-highlight:white'>class</span></b><span style='font-size:
10.0pt;font-family:"Courier New";color:windowtext;background:white;mso-highlight:
white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'>MemoryExample</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><b><span style='font-size:10.0pt;font-family:
"Courier New";color:#7F0055;background:white;mso-highlight:white'>extends</span></b><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>BasicTIM</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>{</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>public</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>MemoryExample();</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>protected</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>Measurement</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>readChannel(</span><b><span style='font-size:10.0pt;
font-family:"Courier New";color:#7F0055;background:white;mso-highlight:white'>int</span></b><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>chanNum);<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>}</span><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p>The <span style='font-family:"Courier New"'>MemoryExample</span> method is the
constructor while the <span style='font-family:"Courier New"'>readChannels</span>
method does the real work.<span style="mso-spacerun: yes">  </span>Now let’s
fill in the internals.<span style="mso-spacerun: yes">  </span>In order to make
the measurement results from the transducer ‘self describing’ some information
needs to be included with each measurement channel such as name, units, data
type etc.<span style="mso-spacerun: yes">  </span>This is done by utilizing the
<span style='font-family:"Courier New"'>setChannelTeds</span> method in the <span
style='font-family:"Courier New"'>BasicTIM</span> class.</p>

<p>The <span style='font-family:"Courier New"'>setChannelTeds</span> method
takes as an argument an array settings for each value in the transducer.<span
style="mso-spacerun: yes">  </span>Each of these in turn is itself an array
that contains name/value pairs of associated meta data.<span
style="mso-spacerun: yes">  </span>For example, to describe a channel which
represents the amount of free memory in the JVM we would create an set of
name/value pairs as follows:</p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'>Object channelInfo[] = {</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'><span style="mso-spacerun: yes">   
</span>MeasAttr.NAME,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:#2A00FF;background:white;mso-highlight:white'>&quot;freeMemory&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'><span
style="mso-spacerun: yes">    </span></span><span style='font-size:10.0pt;
font-family:"Courier New";background:white;mso-highlight:white'>MeasAttr.DESCRIPTION,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#2A00FF;background:
white;mso-highlight:white'>&quot;JVM Free Memory&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'><span
style="mso-spacerun: yes">    </span></span><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>MeasAttr.UNITS,</span><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";color:#2A00FF;background:
white;mso-highlight:white'>&quot;Bytes&quot;</span><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New";background:white;mso-highlight:white'><span
style="mso-spacerun: yes">    </span>MeasAttr.DATA_TYPE,</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'> TypeAttr.INTEGER64</span><span style='font-size:10.0pt;font-family:
"Courier New"'> }</span></p>

<p>Here we use some pre-defined tags found in the MeasAttr class for NAME,
DESCRIPTION, UNITS, and DATA_TYPE.<span style="mso-spacerun: yes">  </span>Since
our transducer will have two channels we create an array to hold the meta data
for all our channels:</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>private</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><b><span style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;
background:white;mso-highlight:white'>final</span></b><span style='font-size:
10.0pt;font-family:"Courier New";color:windowtext;background:white;mso-highlight:
white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'>Object</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>teds[][]</span><span style='font-size:10.0pt;font-family:
"Courier New";color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>=</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>{</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";color:#3F7F5F;background:
white;mso-highlight:white'>// channel 1 </span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>{</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.NAME,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:#2A00FF;background:white;mso-highlight:white'>&quot;freeMemory&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.DESCRIPTION,</span><span style='font-size:10.0pt;font-family:
"Courier New";color:#2A00FF;background:white;mso-highlight:white'>&quot;JVM
Free Memory&quot;</span><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'>,</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.UNITS,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:#2A00FF;background:white;mso-highlight:white'>&quot;Bytes&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.DATA_TYPE,</span><span style='font-size:10.0pt;font-family:
"Courier New";color:#2A00FF;background:white;mso-highlight:white'>&quot;Integer64&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>},</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";color:#3F7F5F;background:
white;mso-highlight:white'>// channel 2</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>{</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.NAME,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:#2A00FF;background:white;mso-highlight:white'>&quot;totalMemory&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>,</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.DESCRIPTION,</span><span style='font-size:10.0pt;font-family:
"Courier New";color:#2A00FF;background:white;mso-highlight:white'>&quot;JVM
Total Memory&quot;</span><span style='font-size:10.0pt;font-family:"Courier New";
background:white;mso-highlight:white'>,</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span><span
style="mso-spacerun: yes">      </span></span><span style='font-size:10.0pt;
font-family:"Courier New";background:white;mso-highlight:white'>MeasAttr.UNITS,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#2A00FF;background:
white;mso-highlight:white'>&quot;Bytes&quot;</span><span style='font-size:10.0pt;
font-family:"Courier New";background:white;mso-highlight:white'>,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>MeasAttr.DATA_TYPE,TypeAttr.INTEGER64</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'>)</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p>Now that we have our meta data constructed we will then add a registration
invocation to our constructor:</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>public</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>MemoryExample(){</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>setChannelTeds(teds);</span><span style='font-size:10.0pt;font-family:
"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>}</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p>Now that we have provided the <span style='font-family:"Courier New"'>BasicTIM</span>
with a notion of our meta data we can work on producing some actual measurement
results in the <span style='font-family:"Courier New"'>readChannel</span>
method.<span style="mso-spacerun: yes">  </span>The <span style='font-family:
"Courier New"'>readChannel</span> method is provided with an integer argument
which specifies the channel to be read.<span style="mso-spacerun: yes"> 
</span>Since the return type from <span style='font-family:"Courier New"'>readChannel</span>
is a Measurement, all we have to do is create a new <span style='font-family:
"Courier New"'>Measurement</span> and place a value into the newly constructed <span
style='font-family:"Courier New"'>Measurement</span> instance:</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>Measurement</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>newMeas</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>=</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>new</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>Measurement(lastChanValues[chanNum]);</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>long</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>result=0;</span><span style='font-size:10.0pt;font-family:
"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>switch</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>(chanNum)</span><span style='font-size:10.0pt;font-family:
"Courier New";color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>{</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>case</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>1</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>:</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>result=Runtime.getRuntime().freeMemory();</span><span style='font-size:
10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>break</span></b><span style='font-size:10.0pt;
font-family:"Courier New";background:white;mso-highlight:white'>;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>case</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>2:</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>result=Runtime.getRuntime().totalMemory();</span><span style='font-size:
10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>break</span></b><span style='font-size:10.0pt;
font-family:"Courier New";background:white;mso-highlight:white'>;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>}</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>newMeas.put(MeasAttr.VALUE,</span><b><span style='font-size:10.0pt;
font-family:"Courier New";color:#7F0055;background:white;mso-highlight:white'>new</span></b><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>Long(result));</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span>return newMeas;</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p>Let’s look at this line by line.<span style="mso-spacerun: yes"> 
</span>Each <span style='font-family:"Courier New"'>Measurement</span> result
is expected to contain all pertinent meta data for the measurement so the new <span
style='font-family:"Courier New"'>Measurement</span> instance is created
initially as a copy of the last value produced which had full meta data:</p>

<p><span style="mso-spacerun: yes">    </span><b><span style='font-size:10.0pt;
font-family:"Courier New";color:#7F0055;background:white;mso-highlight:white'>new</span></b><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>Measurement(lastChanValues[chanNum]);</span></p>

<p>When a new measurement is constructed with an existing measurement as an
argument, a clone is done of the <span style='font-family:"Courier New"'>Measurement</span>
container so all prior meta data placed into the <span style='font-family:"Courier New"'>Measurement</span>
object is retained.<span style="mso-spacerun: yes">  </span>This meta data is
initially loaded into the <span style='font-family:"Courier New"'>lastChanValues</span>
instances when the <span style='font-family:"Courier New"'>setChannelTeds</span>
method is used.</p>

<p>The code then makes a decision on which channel is being requested and
generates a long result based on the channel number. Finally, the new result is
placed into the <span style='font-family:"Courier New"'>newMeas</span> object
as a name/value pair and then returned to the caller.</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>newMeas.put(MeasAttr.VALUE,</span><b><span style='font-size:10.0pt;
font-family:"Courier New";color:#7F0055;background:white;mso-highlight:white'>new</span></b><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:
"Courier New";background:white;mso-highlight:white'>Long(result));</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='mso-tab-count:2'>                        </span>return newMeas;</p>

<p>Every measurement in JMDI is expected (but not required) to have a time
stamp associated with the measurement as additional piece of meta data so let’s
add a timestamp to our measurement:</p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>TimeRepresentation</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>timestamp</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>=</span><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext;background:white;mso-highlight:white'> </span><b><span
style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
white;mso-highlight:white'>new</span></b><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>TimeRepresentation();</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:windowtext;background:
white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
style='font-size:10.0pt;font-family:"Courier New";background:white;mso-highlight:
white'>newMeas.put(MeasAttr.TIMESTAMP,</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext;background:white;mso-highlight:white'>
</span><span style='font-size:10.0pt;font-family:"Courier New";background:white;
mso-highlight:white'>timestamp);</span><span style='font-size:10.0pt;
font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>

<p>Our final method and entire class then looks as follows:</p>

<table border=1 cellspacing=0 cellpadding=0 style='margin-left:30.2pt;
 border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr>
  <td valign=top style='border:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>import</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>net.java.jddac.*;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>public</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><b><span style='font-size:10.0pt;font-family:"Courier New";
  color:#7F0055;background:white;mso-highlight:white'>class</span></b><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>MemoryExample</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><b><span style='font-size:10.0pt;
  font-family:"Courier New";color:#7F0055;background:white;mso-highlight:white'>extends</span></b><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>BasicTIM</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>{</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>public</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>MemoryExample(){</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>setChannelTeds(teds);</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>}</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:1'>      </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>protected</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>Measurement</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>readChannel(</span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>int</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>chanNum)</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext;background:white;
  mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>{</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>Measurement</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>newMeas</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext;background:white;
  mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>=</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><b><span style='font-size:10.0pt;font-family:"Courier New";
  color:#7F0055;background:white;mso-highlight:white'>new</span></b><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>Measurement(lastChanValues[chanNum]);</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>TimeRepresentation</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>timestamp</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext;background:white;
  mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>=</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><b><span style='font-size:10.0pt;font-family:"Courier New";
  color:#7F0055;background:white;mso-highlight:white'>new</span></b><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>TimeRepresentation();</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>newMeas.put(MeasAttr.TIMESTAMP,</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'> </span><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>timestamp);</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>long</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>result=0;</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>switch</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>(chanNum)</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext;background:white;
  mso-highlight:white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>{</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>case</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>1</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>:</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>result=Runtime.getRuntime().freeMemory();</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>break</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>case</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>2:</span><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>result=Runtime.getRuntime().totalMemory();</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:3'>                  </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>break</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";background:white;mso-highlight:white'>;</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>}</span><span style='font-size:10.0pt;font-family:"Courier New";
  color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><span
  style='font-size:10.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>newMeas.put(MeasAttr.VALUE,</span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>new</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>Long(result));</span><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:"Courier New";color:windowtext;
  background:white;mso-highlight:white'><span style='mso-tab-count:2'>            </span></span><b><span
  style='font-size:10.0pt;font-family:"Courier New";color:#7F0055;background:
  white;mso-highlight:white'>return</span></b><span style='font-size:10.0pt;
  font-family:"Courier New";color:windowtext;background:white;mso-highlight:
  white'> </span><span style='font-size:10.0pt;font-family:"Courier New";
  background:white;mso-highlight:white'>newMeas;</span><span style='font-size:
  10.0pt;font-family:"Courier New";color:windowtext'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New";
  color:windowtext;background:white;mso-highlight:white'><span
  style='mso-tab-count:1'>      </span></span><span style='font-size:10.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New";background:white;
  mso-highlight:white'>}</span><span style='font-size:10.0pt;mso-bidi-font-size:
  12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p><b><i>Configuring Transducers<o:p></o:p></i></b></p>

<p>The configuration for a specific transducer can be kept in an xml file that
adheres to the JDDAC configuration api specification. Here is one for our
example transducer:</p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Courier'>&lt;argArray&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Courier'><span style="mso-spacerun:
yes">  </span>&lt;arg n=&quot;className&quot;&gt;MemoryExample&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Courier'><span style="mso-spacerun:
yes">  </span>&lt;arg n=&quot;instanceName&quot;&gt;MyMemoryExample&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Courier'><span style="mso-spacerun:
yes">  </span>&lt;arg n=&quot;TIM.id&quot;&gt;JVM-0908001234&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Courier'>&lt;argArray&gt;</span></p>

<p>Here is an explanation of the required descriptors for an F-Block.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>className</b> – this is the name of the class</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>instanceName</b> – this is the name of the object.
This is how other objects in the system refer to this object, if there is need
to do so.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b>TIM.id</b>– this is a unique identifier for
measurements produced by this instance.<span style="mso-spacerun: yes"> 
</span>It should be unique within the context of a JDDAC NCAP.<span
style="mso-spacerun: yes">  </span>In most situations this property does not need
to be set as the BasicTransducerBlock will assign this value. </p>

<p>When a transducer is used in conjunction with a TransducerBlock such as the
BasicTransducerBlock, the BasicTransducerBlock xml will specify an association
with a particular transducer:</p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'>&lt;argArray l=&quot;9&quot;&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
n=&quot;Entity.owningBlockObjectTag&quot;&gt;NCAP&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
n=&quot;BasicTransducerBlock.transducerName&quot;&gt;MyMemoryExample&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
n=&quot;Block.p1.topic&quot;&gt;storeMeasurement&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
t=&quot;int&quot;
n=&quot;BasicTransducerBlock.period&quot;&gt;10000&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg n=&quot;className&quot;&gt;net.java.jddac.jmdi.block.BasicTransducerBlock&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
t=&quot;boolean&quot;
n=&quot;BasicTransducerBlock.autoStart&quot;&gt;true&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
n=&quot;instanceName&quot;&gt;My Memory Usage TBlock&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:windowtext'><span style="mso-spacerun: yes">  </span>&lt;arg
n=&quot;Entity.objectName&quot;&gt;Demo Basic Transducer Block for Memory
Usage&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'><span style="mso-spacerun: yes">  </span>&lt;arg
t=&quot;int&quot; n=&quot;Block.numPubs&quot;&gt;1&lt;/arg&gt;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'>&lt;/argArray&gt;</span></p>

<p>For more details on the configuration system, click <a
href="configuration.htm">here</a>.</p>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p><b><i>Using Transducers<o:p></o:p></i></b></p>

<p>The TIMInterface objects typically used by TransducerBlocks.<span
style="mso-spacerun: yes">  </span>Typically, these are the actions you can do
with a TIMInterface object:</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Read values from sensors</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Write values to actuators</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Query for metadata</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;font-family:Wingdings'>q<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Register notification for events</p>

<p>To read a value, first invoke the startRead() method.<span
style="mso-spacerun: yes">  </span>If the transducer supports asynchronous
reads it will queue up the read and subsequently notify objects registered with
the addDataReadyCallback function.<span style="mso-spacerun: yes"> 
</span>Transducers that do not inherently support an asynchronous read will
spawn a separate thread to do a blocking read and notify DataReadyInterface
listeners.</p>

<p>Next, invoke either a readLast() to retrieve a queued measurement, or a
read() to cause a measurement to occur.<span style="mso-spacerun: yes"> 
</span>The method readLast() simply returns a previously measured value and
thus does not block.<span style="mso-spacerun: yes">  </span>A call to read(),
however, may block if the underlying call to the actual physical hardware is
blocking in nature.</p>

<p>Writes work in a similar fashion, except with the methods startWrite() and
write().</p>

<p>Metadata is retrieved via a getMetadata() method. The ID for the metadata is
retrieved via getMetaID().</p>

<p>Lastly, clients of the TIM that wish to be notified when data is available
should implement the DataReadyInterface interface and register themselves for
notification with the TIM via the addDataReadyCallback() method.<b><i><o:p></o:p></i></b></p>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt;mso-bidi-font-family:
Arial'>©</span><span style='font-size:8.0pt;mso-bidi-font-size:12.0pt'> 2004-5
Agilent Technologies</span></p>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

</div>

</body>

</html>
